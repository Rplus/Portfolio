"use strict";window.Rplus.ready(function(){var e=window.Rplus;e.hasClass=function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},e.removeClass=function(e,t){var n=new RegExp("\\b"+t+"\\b","g");e.className=e.className.replace(n,"")},e.imageMIMEType={jpg:"image/jpg",png:"image/png",svg:"image/svg+xml"},e.injectImage=function(e){var t=document.createElement("img"),n=document.getElementById(e.parentId);for(var a in e.oriAttr)e.oriAttr.hasOwnProperty(a)&&t.setAttribute(a,e.oriAttr[a]);n.parentNode.insertBefore(t,n),"js-business-image"===e.parentId&&(document.querySelector(".business-card").style.backgroundImage='url("'+e.oriAttr.src+'")')},e.cacheImage=function(t,n,a){t.oldSrc=t.src,t.oriAttr.src=n,localStorage.setItem(a,n),e.injectImage(t)},e.loadImage=function(t){var n=t.oriAttr;t.ext=n.src.split(".").reverse()[0];var a=n.src.split("/").reverse()[0],s=localStorage.getItem(a),o=document.createElement("canvas");if(!o.getContext)return console.log(3333),e.injectImage(t),void 0;if(e.hasCache&&s)t.oldSrc=t.src,n.src=s,e.injectImage(t);else switch(t.ext){case"png":case"jpg":case"jpeg":o.width=n.width,o.height=n.height;var c=o.getContext("2d"),r=new Image;r.onload=function(){c.drawImage(r,0,0);var n=o.toDataURL();e.cacheImage(t,n,a)},r.src=n.src;break;case"svg":var i=window.XDomainRequest?new XDomainRequest:new XMLHttpRequest;i.onload=function(){var n="data:"+e.imageMIMEType[t.ext]+","+encodeURIComponent(i.responseText);e.cacheImage(t,n,a)},i.open("get",n.src),i.send()}},function(){e.loadImage(e.getFBInfo(document.getElementById("js-avater-image"))),e.loadImage(e.getFBInfo(document.getElementById("js-business-image")))}(),function(){var t,n=e.getFBInfo(document.getElementById("js-google-font")),a=document.querySelectorAll(".wf-inactive")[0],s=function(){e.removeClass(a,"wf-inactive")};!function(){t=setTimeout(s,3e3)}();var o=document.createElement("link");o.rel="stylesheet",o.href=n.oriAttr.href,o.addEventListener("load",function(){s(),clearTimeout(t)}),e.ele.head.insertBefore(o,e.ele.head.lastChild)}(),function(){"undefined"!=typeof window.SVGRect?e.injectInline({tag:"img",oriAttr:{src:"./images/inject-svg/svgstore.svg"}}):e.injectInline(e.getFBInfo(document.getElementById("js-icons-fallback")))}(),function(){e.hasCache||e.injectInline(e.getFBInfo(document.getElementById("js-main-style")),{cacheOnly:!0})}()});